
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Root (discovery)</title>
    
    <meta name="author" content="Stephane Guidoin">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Open511 API</a>
          <ul class="nav">
            <li><a href="specifications.html">Specifications</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>Root (discovery) </h1>
</div>

<div class="row">
  <div class="span12">
    
<div class="specsnavcontainer">
	<h3>Resources</h3>

	<ul>
	<li><a href="root.html">Root (Discovery)</a></li>
	<li><a href="jurisdiction.html">Jurisdiction</a></li>
	<li><a href="event.html">Events</a></li>
	</ul>

	<p>&nbsp;</p>

	<h3>Common</h3>
	<ul><li><a href="header.html">HTTP Headers</a></li>
	<li><a href="parameters.html">Parameters</a></li>
	</ul>
</div>



<p>Following the guidelines of the REST architecture, the Open511 provides a single entry that provides a link to all the resources of the API. The root URL is the only that needs to be published when a juridiction sets up a 511 endpoint.</p>


<h3>Overview</h3>

  <table class="resource_pres">
 
  <tr>
     
      
     
      
      <td class="vertical_header">purpose</td><td>The root resource (aka discovery) provides link to all the resources shared by the selected endpoint. In order to get the link to the other resources, a client application must follow the links provided in the discovery resource. Currently, the discovery will contain access to the jurisdictions supported and the events.</td>
      
    
  </tr>
 
  <tr>
     
      
     
      
      <td class="vertical_header">method</td><td>GET</td>
      
    
  </tr>

  </table>


<h3>Parameters</h3>

<p>The following table provides the common URL parameters than can be provided to modify or filter the output of the API.<p>

<p>In fact these parameters are common to all other resources and should be documented in a common section</p>

  <table class="parameters">
        <tr><th>Parameter</th><th>Required/optional</th><th>Description</th></tr>
 
  <tr>
     
      
     
      
      <td>format</td><td>optional</td><td><p>Specify the type of representation. This url parameter overrides the corresponding HTTP header. Possible values are <code>xml</code> and <code>json</code>. If no value is provided for the representation, the API will default to xml. </p> <pre>...?format=json</pre></td>
      
    
  </tr>
 
  <tr>
     
      
     
      
      <td>lang</td><td>optional</td><td><p>Specify the language requested. This url parameter overrides the corresponding HTTP header. Values are usual language part of the local (cf ...).</p> <p>The behaviour is the same as the HTTP, several coma-separated values can be provided in the order of priority. If not lang attribute is provided or if the language requested is not available, a fallback language is used (the default value is configured by the end point).</p> <pre>...?lang=fr,en</pre></td>
      
    
  </tr>

  </table>


<h3>Representation</h3>

<p>The following table prodive the struture of the message to be expected for this resource. Although the format of the representation might change (xml or json), the overall data structure should be the same except when specified otherwise.

  <table class="representation">
        <tr><th>Field</th><th>Required/optional</th><th>Type</th><th>Description</th></tr>
 
  <tr>
     
      
     
      
      <td class="name">Jurisdictions</td><td class="mandatory">Mandatory</td><td class="type">Collection of <a href="#jurisdiction">jurisdictions</a></td><td><p>List all the <a href="#jurisdiction">jurisdictions</a> that are supported by the endpoint. Most of the time, there will be only one occurrence, except for multiple jurisdictions endpoints and agregators.</p></td>
      
    
  </tr>
 
  <tr>
     
      
     
      
      <td class="name">Self</td><td class="mandatory">Mandatory</td><td class="type">Atom link</td><td><p>Self link to the current resource using atom link structure with <code>self</code> attribute.<pre>&lt;atom:link rel="self" href="http://ville.montreal.qc.ca/open511/" /&gt; </pre> </p></td>
      
    
  </tr>
 
  <tr>
     
      
     
      
      <td class="name">Services</td><td class="mandatory">Mandatory</td><td class="type">Collection of <a href="#service">services</a></td><td><p>List all the <a href="#service">services</a> supported by the endpoint. Currently, only one service is supported (events), so this structure should only contain on item.</p></td>
      
    
  </tr>

  </table>

<a id="jurisdiction"></a><h4>Jurisdiction (short)</h4>

  <table class="representation">
        <tr><th>Field</th><th>Required/optional</th><th>Type</th><th>Description</th></tr>
 
  <tr>
     
      
     
      
      <td class="name">Jurisdiction URL</td><td class="mandatory">Mandatory</td><td class="type">Atom link</td><td><p>Atom link with a <code>self</code> attribute the points to the complete description of the jurisdiction. An agregator should always point the original jurisdiction resource and not copy it locally.</p></td>
      
    
  </tr>
 
  <tr>
     
      
     
      
      <td class="name">Name</td><td class="mandatory">Mandatory</td><td class="type">Free text</td><td><p>Name of the jurisdiction. The field is purely description and should not be considered as a key</p></td>
      
    
  </tr>

  </table>


<a id="service"></a><h4>Service</h4>


  <table class="representation">
        <tr><th>Field</th><th>Required/optional</th><th>Type</th><th>Description</th></tr>
 
  <tr>
     
      
     
      
      <td class="name">service URL</td><td class="mandatory">Mandatory</td><td class="type">Atom link</td><td><p>Atom link with a <code>self</code> attribute the points to the service resource. An agregator will have a local resource for any given service and will publish the content from various jurisdictions.</p></td>
      
    
  </tr>
 
  <tr>
     
      
     
      
      <td class="name">service_descripiton</td><td class="mandatory">Optional</td><td class="type">Free text</td><td><p>Description of the service.</p></td>
      
    
  </tr>
 
  <tr>
     
      
     
      
      <td class="name">service_type</td><td class="mandatory">Mandatory</td><td class="type">Value list</td><td><p>List of predefined services that are supported by the open511 API. For the moment the only service designed is the event service.</p><p>Value list:</p> <pre>events</pre></td>
      
    
  </tr>

  </table>

<h3>Example</h3>



<p>Example of an xml representation of a jurisdiction</p>

<pre>
  &lt;atom:link rel="self" href="http://api.open511.info/" /&gt;
  &lt;jurisdictions&gt;
    &lt;jurisdiction&gt;
      &lt;name&gt;Ville de Montr√©al&lt;/name&gt;
      &lt;atom:link rel="self" href="http://ville.montreal.qc.ca/open511/jurisdiction/ville-montreal/" /&gt;
    &lt;/jurisdiction&gt;
  &lt;/jurisdiction&gt;
  &lt;services&gt;
    &lt;service&gt;
      &lt;service_type&gt;events&lt;/service_type&gt;
      &lt;service_description&gt;Provide information about events impacting the road system&lt;/service_description&gt;
      &lt;atom:link rel="self" href="http://api.open511.info/events" /&gt;
    &lt;service&gt;
  &lt;/services&gt;
</pre>
  </div>
</div>


      </div>

      <footer>
        <p>&copy; Stephane Guidoin 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
  </body>
</html>

