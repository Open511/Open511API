---
layout: page
title: Root (discovery)
presentation : 
  a :
    name : purpose
    value : The root resource (aka discovery) is the single entry point of an open511 endpoint and provides links to all resources shared by the selected endpoint. In order to get the URL for other resources, a client application must follow the links provided in the discovery resource. Currently, the discovery will contain access to the jurisdictions supported and the events.
  b :
    name : method
    value : GET
representation : 

#    - name: self
#      mandatory: Mandatory
#      type: <a href="guidelines.html#links">Link</a>
#      desc: <p>Self link to the current resource. In XML, the <code>rel</code> attribute needs the value <code>self</code>.</p>

    - name: jurisdictions
      mandatory: Mandatory, at least one <code>jurisdiction</code> element is mandatory
      type: Collection of <code>jurisdiction</code>
      desc: <p>List all the jurisdictions that are supported by the endpoint. Most of the time, there will be only one occurrence, except for multiple jurisdictions endpoints and aggregators.</p>

    - name: <p>&mdash; id</p>
      mandatory: Mandatory
      type: Free text
      desc: <p>Id of the jurisdiction.</p>

    - name: <p>&mdash;  url</p>
      mandatory: Mandatory
      type: <a href="guidelines.html#links">Link</a>
      desc: <p>Link to the jurisdiction resource. In XML, the <code>rel</code> attribute needs the value <code>self</code>. An aggregator should always point the original jurisdiction resource and not copy it locally.</p>  
      
    - name: <p>services</p>
      mandatory: Mandatory
      type: Collection of <code>service</code>
      desc: <p>List all the services supported by the endpoint. Currently, only one service is supported (events), so this structure should only contain one item.</p>

    - name: <p>&mdash; type</p>
      mandatory: Mandatory
      type: Value list
      desc: <p>The service type value comes from a predefined list of services that are supported by the open511 API. Currently the only service supported is the event service.</p><p>Value list:</p> <pre>events</pre>

    - name: <p>&mdash; url</p>
      mandatory: Mandatory
      type: <a href="guidelines.html#links">Link</a>
      desc: <p>Link pointing to the jurisdiction resource. In XML, the <code>rel</code> attribute needs the value <code>self</code>. Even if the current endpoint supports multiple jurisdictions or is an aggregator, there is only one service resource that aggregates the data for all the jurisdictions.</p>    
  
---
{% include JB/setup %}
{% include specsnav.html %}

<h3>Overview</h3>

  <table class="resource_pres">
{% for item in page.presentation %} 
  <tr>
    {% for elem in item %} 
      {% if elem.name != nil %}
      <td class="vertical_header">{{ elem.name }}</td><td>{{ elem.value }}</td>
      {% endif %}
    {% endfor %}
  </tr>
{% endfor %}
  </table>

<h3>Parameters and filters</h3>

<p>The discovery resource does not support any URL parameter or filter besides the <a href="guidelines.html#format">format selection</a> and the <a href="guidelines.html#lang">language negotiation</a>.</p>


<h3>Example</h3>

<p>Example of the XML and JSON representations of the discovery resource</p>

<script>
$(function() {
    $( "#tabs" ).tabs();
});
</script>
 
<div id="tabs">
    <ul>
        <li><a href="#tabs-1">XML</a></li>
        <li><a href="#tabs-2">JSON</a></li>
    </ul>
    <div id="tabs-1">
<pre class="brush: xml">
&lt;open511
    xmlns:atom="http://www.w3.org/2005/Atom"
    xml:lang="en"
    xml:base="http://api.open511.info/"
    version="v0"
&gt;  
  &lt;jurisdictions&gt;
    &lt;jurisdiction&gt;
      &lt;id&gt;mycity.gov&lt;/name&gt;
      &lt;atom:link rel="self" href="http://mycity.gov/open511/jurisdiction/mycity.gov/" /&gt;
    &lt;/jurisdiction&gt;
    &lt;jurisdiction&gt;
      &lt;id&gt;myregion.gov&lt;/id&gt;
      &lt;atom:link rel="self" href="http://myregion.gov/open511/jurisdiction/myregion.gov/" /&gt;
    &lt;/jurisdiction&gt;    
  &lt;/jurisdiction&gt;
  &lt;services&gt;
    &lt;service&gt;
      &lt;service_type&gt;events&lt;/service_type&gt;
      &lt;service_description&gt;Provide information about events impacting the road system&lt;/service_description&gt;
      &lt;atom:link rel="self" href="/events/" /&gt;
    &lt;service&gt;
  &lt;/services&gt;
  &lt;atom:link rel="self" href="/"/&gt;
&lt;/open511&gt;
</pre>
    </div>
    <div id="tabs-2">
<pre class="brush: js">
{
  "jurisdictions" : [
      {
          "id" : "mycity.gov", 
          "url" : "http://my.city.gov/open511/jurisdiction/mycity.gov/"
      },
      {
          "id" : "myregion.gov", 
          "url" : "http://my.region.gov/open511/jurisdiction/myregion.gov/"
      }
  ],
  "services" : [
      {
          "type" : "events",
          "description" : "Provide information about events impacting the road system",
          "url" : "/events/"
      }
  ],
  "meta": {
      "version": "v0",
      "self_url": "/"
  }

}
</pre>
</div>
</div>

<script type="text/javascript">
     SyntaxHighlighter.all()
</script>

<h3>Data structure</h3>

<p>The following table provides the data structure for the root resource (aka discovery). Although the format of the representation might change (XML or JSON), the overall data structure should remain except when specified otherwise.</p>

<p>Note that the discovery resource follows the rules of an individual item in <a href="guidelines.html#format">formatting guidelines</a> and <b>not</b> of list since it contains different types of items. There is no <code>up</code> link since the discovery is the upper level.</p>



  <table class="representation">
    <tr><th>Field</th><th>Type</th><th>Description</th></tr>
{% assign anchor = 'representation' %}
{% for item in page.representation %} 
   {% include tablegen.html %}
{% endfor %}       
  </table>

<p>&nbsp;</p>


